# Library API

**Library** service is the main source of text data for all kinds of texts generated by other services. It does not have sophisticated text generation algorithms, all it does is contains a bunch of books / texts that can be split into sentences / words, searched and returned based on query.

## Books API

Books service manages books in the library.

All endpoints are protected by `superadmin` scope because the nature of the books content is a sensitive one, and if anyone has access to books upload - offensive texts could be uploaded accidentally.

If you want to upload a book so that sentences from it appear in the application, you need to:

1. Upload the book to the library
2. Import it with a separate "Import" endpoint - takes long time

Importing books takes long time because it analyzes the text sentence by sentence and inserts them all into the database, split further by words and keypairs. This takes a lot of space. Expect for it to take up to 1-2 Gb of space and up to 10 minutes for a regular-sized book. This is not a big concern however, because we do not expect to add books on daily basis, but we need fast querying, and querying is lightning fast (we use PostgreSQL with a lot of indexes).

## Sentences API

Sentences API allows querying text from the imported books. This is main API that is used by other services when generating text. It probably shouldn't be accessed directly by the client, but if you still wish to do it, you can get either random sentences or sentences based on the criteria that you can specify.